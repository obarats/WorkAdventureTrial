"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var e=t(require("react"));const r=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,n=t=>t.substring(1,t.length-1),o=(t,e=!0,o="",i="")=>t.split(r).map((t=>{if(!t.match(r))return t;const e=n(t);if(e.startsWith("{"))return((t,e)=>{let[r,n]=t.split(":");n||(n=r,r=e);const o=n.split("|"),[i,l,s,a,u,c]=o,f=o.filter((t=>void 0!==t)).length;return 1===f?{k:r,r:i}:2===f?{k:r,o:i,r:l}:3===f?{k:r,z:i,o:l,r:s}:{k:r,z:i,o:l,t:s,f:a,m:u,r:c}})(n(e),i);const l=(t=>{const[e="",...r]=t.split("|"),[n="",o]=e.split(":"),[i,l]=n.split("?");return{k:i,i:o,n:""===l,f:r}})(e);return i=l.k||i,!o&&(o=i),l})).map((t=>{if("string"==typeof t)return t;t.k||(t.k=o||"0");const r=(t=>Object.fromEntries(Object.keys(t).map((e=>{var r;const n=t[e];return[e,Array.isArray(n)?n.map((t=>null==t?void 0:t.trim())):n===!!n?n:null===(r=n)||void 0===r?void 0:r.trim()]}))))(t);return e?(n=r,Object.fromEntries(Object.entries(n).map((([t,e])=>"i"!==t&&e&&"0"!=e&&[t,e])).filter(Boolean))):r;var n})),i=/^\{.*\}$/,l=/\?\?/g,s=(t,e,r,o)=>t.map((t=>{if("string"==typeof t)return t;const{k:s="0",f:a=[]}=t,u=o[s];if((t=>!(!t.o&&!t.r))(t))return(("boolean"==typeof u?u?t.o:t.r:((t,{z:e,o:r,t:n,f:o,m:i,r:l},s)=>{switch(e&&0==s?"zero":t.select(s)){case"zero":return e;case"one":return r;case"two":return n;case"few":return o;case"many":return i;default:return l}})(e,t,u))||"").replace(l,u);const c=a.length?((t,e,r)=>e.reduce(((e,r)=>{var o,l;return null!==(l=r.match(i)?(()=>{var t;const o=Object.fromEntries(n(r).split(",").map((t=>t.split(":").map((t=>t.trim())))));return null!==(t=o[e])&&void 0!==t?t:o["*"]})():null===(o=t[r])||void 0===o?void 0:o.call(t,e))&&void 0!==l?l:e}),r))(r,a,u):u;return(""+(null!=c?c:"")).trim()})).join(""),a=t=>new Proxy(t?()=>t:{},{get:(e,r)=>a(t?`${t}.${r}`:r)}),u=(t,e,r)=>{const n={},i=new Intl.PluralRules(t);return(t,...l)=>((t,e,r,n)=>{const o=n[0],i=o&&"object"==typeof o&&o.constructor===Object,l=1===n.length&&i?o:n;return s(t,e,r,l)})(((t,e)=>t[e]||(t[e]=o(e)))(n,((t,e)=>{var r;return e.split(".").forEach((e=>t=t[e])),null!==(r=t)&&void 0!==r?r:e})(e,t)),i,r,l)};const c=(t,e,r={})=>new Proxy(e?t.bind(null,e):r,{get:(r,n)=>c(t,e?`${e}.${n}`:n)}),f=()=>e.default.createContext({});exports.initI18nReact=(t="",r=(()=>({})),n=(()=>({})))=>{const o=f();return{component:i=>{const[l,s]=e.default.useState(!1),[f,p]=e.default.useState(null),[d,m]=e.default.useState(a()),v=async t=>{s(!0);const e=r(t),o=n(t);m(function(t,e,r={}){return c(u(t,e,r))}(t,e instanceof Promise?await e:e,o instanceof Promise?await o:o)),p(t),s(!1)};if(!f&&!l&&v(i.initialLocale||t),!l&&!d)return null;const y={setLocale:v,isLoadingLocale:l,locale:f,LL:d};return e.default.createElement(o.Provider,{value:y},i.children)},context:o}};
//# sourceMappingURL=adapter-react.cjs.map
