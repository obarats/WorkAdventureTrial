"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,r=t=>t.substring(1,t.length-1),e=(e,n=!0,o="",i="")=>e.split(t).map((e=>{if(!e.match(t))return e;const n=r(e);if(n.startsWith("{"))return((t,r)=>{let[e,n]=t.split(":");n||(n=e,e=r);const o=n.split("|"),[i,s,l,a,u,c]=o,p=o.filter((t=>void 0!==t)).length;return 1===p?{k:e,r:i}:2===p?{k:e,o:i,r:s}:3===p?{k:e,z:i,o:s,r:l}:{k:e,z:i,o:s,t:l,f:a,m:u,r:c}})(r(n),i);const s=(t=>{const[r="",...e]=t.split("|"),[n="",o]=r.split(":"),[i,s]=n.split("?");return{k:i,i:o,n:""===s,f:e}})(n);return i=s.k||i,!o&&(o=i),s})).map((t=>{if("string"==typeof t)return t;t.k||(t.k=o||"0");const r=(t=>Object.fromEntries(Object.keys(t).map((r=>{var e;const n=t[r];return[r,Array.isArray(n)?n.map((t=>null==t?void 0:t.trim())):n===!!n?n:null===(e=n)||void 0===e?void 0:e.trim()]}))))(t);return n?(e=r,Object.fromEntries(Object.entries(e).map((([t,r])=>"i"!==t&&r&&"0"!=r&&[t,r])).filter(Boolean))):r;var e})),n=/^\{.*\}$/,o=/\?\?/g,i=(t,e,i,s)=>t.map((t=>{if("string"==typeof t)return t;const{k:l="0",f:a=[]}=t,u=s[l];if((t=>!(!t.o&&!t.r))(t))return(("boolean"==typeof u?u?t.o:t.r:((t,{z:r,o:e,t:n,f:o,m:i,r:s},l)=>{switch(r&&0==l?"zero":t.select(l)){case"zero":return r;case"one":return e;case"two":return n;case"few":return o;case"many":return i;default:return s}})(e,t,u))||"").replace(o,u);const c=a.length?((t,e,o)=>e.reduce(((e,o)=>{var i,s;return null!==(s=o.match(n)?(()=>{var t;const n=Object.fromEntries(r(o).split(",").map((t=>t.split(":").map((t=>t.trim())))));return null!==(t=n[e])&&void 0!==t?t:n["*"]})():null===(i=t[o])||void 0===i?void 0:i.call(t,e))&&void 0!==s?s:e}),o))(i,a,u):u;return(""+(null!=c?c:"")).trim()})).join(""),s=t=>new Proxy(t?()=>t:{},{get:(r,e)=>s(t?`${t}.${e}`:e)}),l=(t,r,n)=>{const o={},s=new Intl.PluralRules(t);return(t,...l)=>((t,r,e,n)=>{const o=n[0],s=o&&"object"==typeof o&&o.constructor===Object,l=1===n.length&&s?o:n;return i(t,r,e,l)})(((t,r)=>t[r]||(t[r]=e(r)))(o,((t,r)=>{var e;return r.split(".").forEach((r=>t=t[r])),null!==(e=t)&&void 0!==e?e:r})(r,t)),s,n,l)};const a=(t,r,e={})=>new Proxy(r?t.bind(null,r):e,{get:(e,n)=>a(t,r?`${r}.${n}`:n)}),u=t=>new Proxy(t,{get:(t,r)=>!("string"!=typeof r||r.startsWith("__v_"))&&t[r]});exports.initI18nVuePlugin=(t,r,e="",n,o)=>{const i=Symbol("typesafe-i18n"),c=n,p=o||(()=>({}));return{typesafeI18n:()=>t(i),i18nPlugin:{install:(t,n)=>{const o=r(u(s())),f=r(!0),m=r(n),v=async t=>{f.value=!0;const r=function(t,r,e={}){return a(l(t,r,e))}(t,await c(t),await p(t));o.value=u(r),m.value=t,f.value=!1};v(n||e),t.provide(i,{setLocale:v,isLoadingLocale:f,locale:m,LL:o})}}}};
//# sourceMappingURL=adapter-vue.cjs.map
