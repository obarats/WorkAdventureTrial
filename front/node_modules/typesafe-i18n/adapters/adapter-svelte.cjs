"use strict";function t(){}function e(t){return t()}Object.defineProperty(exports,"__esModule",{value:!0}),Promise.resolve();const r=[];function n(e,n=t){let o;const s=new Set;function i(t){if(i=t,((n=e)!=n?i==i:n!==i||n&&"object"==typeof n||"function"==typeof n)&&(e=t,o)){const t=!r.length;for(const t of s)t[1](),r.push(t,e);if(t){for(let t=0;t<r.length;t+=2)r[t][0](r[t+1]);r.length=0}}var n,i}return{set:i,update:function(t){i(t(e))},subscribe:function(r,c=t){const u=[r,c];return s.add(u),1===s.size&&(o=n(i)||t),r(e),()=>{s.delete(u),0===s.size&&(o(),o=null)}}}}function o(r,o,s){const i=!Array.isArray(r),c=i?[r]:r,u=o.length<2;return l=r=>{let n=!1;const s=[];let l=0,a=t;const f=()=>{if(l)return;a();const e=o(i?s[0]:s,r);u?r(e):a="function"==typeof e?e:t},p=c.map(((e,r)=>function(e,...r){if(null==e)return t;const n=e.subscribe(...r);return n.unsubscribe?()=>n.unsubscribe():n}(e,(t=>{s[r]=t,l&=~(1<<r),n&&f()}),(()=>{l|=1<<r}))));return n=!0,f(),function(){p.forEach(e),a()}},{subscribe:n(s,l).subscribe};var l}const s=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,i=t=>t.substring(1,t.length-1),c=(t,e=!0,r="",n="")=>t.split(s).map((t=>{if(!t.match(s))return t;const e=i(t);if(e.startsWith("{"))return((t,e)=>{let[r,n]=t.split(":");n||(n=r,r=e);const o=n.split("|"),[s,i,c,u,l,a]=o,f=o.filter((t=>void 0!==t)).length;return 1===f?{k:r,r:s}:2===f?{k:r,o:s,r:i}:3===f?{k:r,z:s,o:i,r:c}:{k:r,z:s,o:i,t:c,f:u,m:l,r:a}})(i(e),n);const o=(t=>{const[e="",...r]=t.split("|"),[n="",o]=e.split(":"),[s,i]=n.split("?");return{k:s,i:o,n:""===i,f:r}})(e);return n=o.k||n,!r&&(r=n),o})).map((t=>{if("string"==typeof t)return t;t.k||(t.k=r||"0");const n=(t=>Object.fromEntries(Object.keys(t).map((e=>{var r;const n=t[e];return[e,Array.isArray(n)?n.map((t=>null==t?void 0:t.trim())):n===!!n?n:null===(r=n)||void 0===r?void 0:r.trim()]}))))(t);return e?(o=n,Object.fromEntries(Object.entries(o).map((([t,e])=>"i"!==t&&e&&"0"!=e&&[t,e])).filter(Boolean))):n;var o})),u=/^\{.*\}$/,l=/\?\?/g,a=(t,e,r,n)=>t.map((t=>{if("string"==typeof t)return t;const{k:o="0",f:s=[]}=t,c=n[o];if((t=>!(!t.o&&!t.r))(t))return(("boolean"==typeof c?c?t.o:t.r:((t,{z:e,o:r,t:n,f:o,m:s,r:i},c)=>{switch(e&&0==c?"zero":t.select(c)){case"zero":return e;case"one":return r;case"two":return n;case"few":return o;case"many":return s;default:return i}})(e,t,c))||"").replace(l,c);const a=s.length?((t,e,r)=>e.reduce(((e,r)=>{var n,o;return null!==(o=r.match(u)?(()=>{var t;const n=Object.fromEntries(i(r).split(",").map((t=>t.split(":").map((t=>t.trim())))));return null!==(t=n[e])&&void 0!==t?t:n["*"]})():null===(n=t[r])||void 0===n?void 0:n.call(t,e))&&void 0!==o?o:e}),r))(r,s,c):c;return(""+(null!=a?a:"")).trim()})).join(""),f=t=>new Proxy(t?()=>t:{},{get:(e,r)=>f(t?`${t}.${r}`:r)}),p=(t,e,r)=>{const n={},o=new Intl.PluralRules(t);return(t,...s)=>((t,e,r,n)=>{const o=n[0],s=o&&"object"==typeof o&&o.constructor===Object,i=1===n.length&&s?o:n;return a(t,e,r,i)})(((t,e)=>t[e]||(t[e]=c(e)))(n,((t,e)=>{var r;return e.split(".").forEach((e=>t=t[e])),null!==(r=t)&&void 0!==r?r:e})(e,t)),o,r,s)};const b=(t,e,r={})=>new Proxy(e?t.bind(null,e):r,{get:(r,n)=>b(t,e?`${e}.${n}`:n)});exports.getI18nSvelteStore=(t="")=>{const e=n(t),r=n(!1);let s=f();const i=n(s);let c,u;const l=async t=>{if(!t||!c)return;r.set(!0);const n=await c(t);s=function(t,e,r={}){return b(p(t,e,r))}(t,n,await u(t)),i.set(s),e.set(t),r.set(!1)},a=o(e,((t,e)=>e(t))),m=o(r,((t,e)=>e(t))),d=new Proxy({},{get:(t,e)=>"subscribe"===e?i.subscribe:s[e]});return{initI18n:async(t,e,r)=>{c=e,u=r||(()=>({})),await l(t)},setLocale:l,isLoadingLocale:m,locale:a,LL:d}};
//# sourceMappingURL=adapter-svelte.cjs.map
