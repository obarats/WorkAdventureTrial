import t from"react";const r=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,e=t=>t.substring(1,t.length-1),n=(t,n=!0,o="",i="")=>t.split(r).map((t=>{if(!t.match(r))return t;const n=e(t);if(n.startsWith("{"))return((t,r)=>{let[e,n]=t.split(":");n||(n=e,e=r);const o=n.split("|"),[i,s,l,c,a,u]=o,f=o.filter((t=>void 0!==t)).length;return 1===f?{k:e,r:i}:2===f?{k:e,o:i,r:s}:3===f?{k:e,z:i,o:s,r:l}:{k:e,z:i,o:s,t:l,f:c,m:a,r:u}})(e(n),i);const s=(t=>{const[r="",...e]=t.split("|"),[n="",o]=r.split(":"),[i,s]=n.split("?");return{k:i,i:o,n:""===s,f:e}})(n);return i=s.k||i,!o&&(o=i),s})).map((t=>{if("string"==typeof t)return t;t.k||(t.k=o||"0");const r=(t=>Object.fromEntries(Object.keys(t).map((r=>{var e;const n=t[r];return[r,Array.isArray(n)?n.map((t=>null==t?void 0:t.trim())):n===!!n?n:null===(e=n)||void 0===e?void 0:e.trim()]}))))(t);return n?(e=r,Object.fromEntries(Object.entries(e).map((([t,r])=>"i"!==t&&r&&"0"!=r&&[t,r])).filter(Boolean))):r;var e})),o=/^\{.*\}$/,i=/\?\?/g,s=(t,r,n,s)=>t.map((t=>{if("string"==typeof t)return t;const{k:l="0",f:c=[]}=t,a=s[l];if((t=>!(!t.o&&!t.r))(t))return(("boolean"==typeof a?a?t.o:t.r:((t,{z:r,o:e,t:n,f:o,m:i,r:s},l)=>{switch(r&&0==l?"zero":t.select(l)){case"zero":return r;case"one":return e;case"two":return n;case"few":return o;case"many":return i;default:return s}})(r,t,a))||"").replace(i,a);const u=c.length?((t,r,n)=>r.reduce(((r,n)=>{var i,s;return null!==(s=n.match(o)?(()=>{var t;const o=Object.fromEntries(e(n).split(",").map((t=>t.split(":").map((t=>t.trim())))));return null!==(t=o[r])&&void 0!==t?t:o["*"]})():null===(i=t[n])||void 0===i?void 0:i.call(t,r))&&void 0!==s?s:r}),n))(n,c,a):a;return(""+(null!=u?u:"")).trim()})).join(""),l=t=>new Proxy(t?()=>t:{},{get:(r,e)=>l(t?`${t}.${e}`:e)}),c=(t,r,e)=>{const o={},i=new Intl.PluralRules(t);return(t,...l)=>((t,r,e,n)=>{const o=n[0],i=o&&"object"==typeof o&&o.constructor===Object,l=1===n.length&&i?o:n;return s(t,r,e,l)})(((t,r)=>t[r]||(t[r]=n(r)))(o,((t,r)=>{var e;return r.split(".").forEach((r=>t=t[r])),null!==(e=t)&&void 0!==e?e:r})(r,t)),i,e,l)};const a=(t,r,e={})=>new Proxy(r?t.bind(null,r):e,{get:(e,n)=>a(t,r?`${r}.${n}`:n)}),u=(r="",e=(()=>({})),n=(()=>({})))=>{const o=f();return{component:i=>{const[s,u]=t.useState(!1),[f,m]=t.useState(null),[p,v]=t.useState(l()),d=async t=>{u(!0);const r=e(t),o=n(t);v(function(t,r,e={}){return a(c(t,r,e))}(t,r instanceof Promise?await r:r,o instanceof Promise?await o:o)),m(t),u(!1)};if(!f&&!s&&d(i.initialLocale||r),!s&&!p)return null;const g={setLocale:d,isLoadingLocale:s,locale:f,LL:p};return t.createElement(o.Provider,{value:g},i.children)},context:o}},f=()=>t.createContext({});export{u as initI18nReact};
//# sourceMappingURL=adapter-react.mjs.map
