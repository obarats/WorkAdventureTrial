"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("svelte/store");const e=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,r=t=>t.substring(1,t.length-1),n=(t,n=!0,o="",s="")=>t.split(e).map((t=>{if(!t.match(e))return t;const n=r(t);if(n.startsWith("{"))return((t,e)=>{let[r,n]=t.split(":");n||(n=r,r=e);const o=n.split("|"),[s,i,l,a,c,u]=o,p=o.filter((t=>void 0!==t)).length;return 1===p?{k:r,r:s}:2===p?{k:r,o:s,r:i}:3===p?{k:r,z:s,o:i,r:l}:{k:r,z:s,o:i,t:l,f:a,m:c,r:u}})(r(n),s);const i=(t=>{const[e="",...r]=t.split("|"),[n="",o]=e.split(":"),[s,i]=n.split("?");return{k:s,i:o,n:""===i,f:r}})(n);return s=i.k||s,!o&&(o=s),i})).map((t=>{if("string"==typeof t)return t;t.k||(t.k=o||"0");const e=(t=>Object.fromEntries(Object.keys(t).map((e=>{var r;const n=t[e];return[e,Array.isArray(n)?n.map((t=>null==t?void 0:t.trim())):n===!!n?n:null===(r=n)||void 0===r?void 0:r.trim()]}))))(t);return n?(r=e,Object.fromEntries(Object.entries(r).map((([t,e])=>"i"!==t&&e&&"0"!=e&&[t,e])).filter(Boolean))):e;var r})),o=/^\{.*\}$/,s=/\?\?/g,i=(t,e,n,i)=>t.map((t=>{if("string"==typeof t)return t;const{k:l="0",f:a=[]}=t,c=i[l];if((t=>!(!t.o&&!t.r))(t))return(("boolean"==typeof c?c?t.o:t.r:((t,{z:e,o:r,t:n,f:o,m:s,r:i},l)=>{switch(e&&0==l?"zero":t.select(l)){case"zero":return e;case"one":return r;case"two":return n;case"few":return o;case"many":return s;default:return i}})(e,t,c))||"").replace(s,c);const u=a.length?((t,e,n)=>e.reduce(((e,n)=>{var s,i;return null!==(i=n.match(o)?(()=>{var t;const o=Object.fromEntries(r(n).split(",").map((t=>t.split(":").map((t=>t.trim())))));return null!==(t=o[e])&&void 0!==t?t:o["*"]})():null===(s=t[n])||void 0===s?void 0:s.call(t,e))&&void 0!==i?i:e}),n))(n,a,c):c;return(""+(null!=u?u:"")).trim()})).join(""),l=t=>new Proxy(t?()=>t:{},{get:(e,r)=>l(t?`${t}.${r}`:r)}),a=(t,e,r)=>{const o={},s=new Intl.PluralRules(t);return(t,...l)=>((t,e,r,n)=>{const o=n[0],s=o&&"object"==typeof o&&o.constructor===Object,l=1===n.length&&s?o:n;return i(t,e,r,l)})(((t,e)=>t[e]||(t[e]=n(e)))(o,((t,e)=>{var r;return e.split(".").forEach((e=>t=t[e])),null!==(r=t)&&void 0!==r?r:e})(e,t)),s,r,l)};const c=(t,e,r={})=>new Proxy(e?t.bind(null,e):r,{get:(r,n)=>c(t,e?`${e}.${n}`:n)}),{initI18n:u,setLocale:p,isLoadingLocale:f,locale:d,LL:m}=((e="")=>{const r=t.writable(e),n=t.writable(!1);let o=l();const s=t.writable(o);let i,u;const p=async t=>{if(!t||!i)return;n.set(!0);const e=await i(t);o=function(t,e,r={}){return c(a(t,e,r))}(t,e,await u(t)),s.set(o),r.set(t),n.set(!1)},f=t.derived(r,((t,e)=>e(t))),d=t.derived(n,((t,e)=>e(t))),m=new Proxy({},{get:(t,e)=>"subscribe"===e?s.subscribe:o[e]});return{initI18n:async(t,e,r)=>{i=e,u=r||(()=>({})),await p(t)},setLocale:p,isLoadingLocale:d,locale:f,LL:m}})();exports.LL=m,exports.default=m,exports.initI18n=u,exports.isLoadingLocale=f,exports.locale=d,exports.setLocale=p;
